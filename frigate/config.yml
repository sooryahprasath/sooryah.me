mqtt:
  enabled: False

# High-Performance Restreaming
# Since we are on CPU, go2rtc will handle the stream redistribution to save resources
go2rtc:
  streams:
    intersection:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASS}@{FRIGATE_CAMERA_IP}:554/cam/realmonitor?channel=4&subtype=0

detectors:
  ov:
    type: openvino
    device: CPU # <--- CHANGED: Forces AI to run on your CPU

cameras:
  intersection:
    ffmpeg:
      inputs:
        # Connect to the internal restream to save bandwidth
        - path: rtsp://127.0.0.1:8554/intersection
          roles:
            - detect
    detect:
      enabled: True
      width: 1280
      height: 720
      fps: 5 # Keep this at 5 to prevent maxing out your CPU
    objects:
      track:
        - car
        - motorcycle
    record:
      enabled: False
    snapshots:
      enabled: False

# REMOVED: ffmpeg hwaccel_args (This was causing the crash)